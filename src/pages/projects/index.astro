---
import ProjectCard from "@/components/ProjectCard.astro";
import SiteHeading from "@/components/SiteHeading.astro";
import { SITE } from "@/config";
import Layout from "@/layouts/layout.astro";
import Icon from "astro-iconify";
import { getCollection } from "astro:content";
const allprojects = (await getCollection("projects")).sort(
	(a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
---

<Layout title="me" description={SITE.shortDescription}>
	<SiteHeading id="site-heading" class="bg-primary">
		<section class="relative overflow-hidden">
			<div class="relative mx-auto max-w-6xl px-4 py-8 sm:px-6 h-80">
				<div class="relative mx-auto max-w-3xl text-center">
					<h1 class="mb-4 text-4xl font-extrabold text-gray-900 md:text-6xl dark:text-white">
						Recent projects I have worked on
					</h1>
					<p class="mb-8 text-lg text-gray-600 md:text-xl dark:text-gray-300">
						Jelajahi kumpulan pekerjaan yang telah saya rancang dan bangun, dari aplikasi web
						kompleks hingga aplikasi mobile.
					</p>
				</div>
			</div>
		</section>
	</SiteHeading>
	<div class="border-b-border h-14 overflow-hidden border-b">
		<div class="container max-w-7xl">
			<div
				class="scrollbar-hide divide-border flex h-full w-full divide-x overflow-x-auto md:grid md:grid-cols-4 md:overflow-visible">
				<div
					class="inline-flex min-w-36 flex-shrink-0 items-center justify-center gap-x-2 leading-none">
					<Icon name="ri:macbook-line" class="h-5 w-5" />
					Frontend
				</div>
				<div
					class="inline-flex min-w-36 flex-shrink-0 items-center justify-center gap-x-2 leading-none">
					<Icon name="ri:database-2-line" class="h-5 w-5" />
					Backend
				</div>
				<div
					class="inline-flex min-w-36 flex-shrink-0 items-center justify-center gap-x-2 leading-none">
					<Icon name="ri:apps-2-ai-line" class="h-5 w-5" />
					Mobile
				</div>
				<div
					class="inline-flex min-w-36 flex-shrink-0 items-center justify-center gap-x-2 leading-none">
					<Icon name="ri:node-tree" class="h-5 w-5" />
					Fullstack
				</div>
			</div>
		</div>
	</div>
	<main class="grid-background min-h-screen w-full space-y-20 pt-8 pb-20 md:space-y-24">
		<div class="container max-w-7xl">
			<section class="relative">
				<div class="flex flex-col gap-8 md:grid md:grid-cols-2 lg:grid-cols-3">
					{allprojects.map(({ data: project }) => <ProjectCard project={project} />)}
				</div>
			</section>
		</div>
	</main>
</Layout>
